<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <style>
    #result-area {margin: 0 auto; width: 80%;text-align: center;}
    #result-area ul {padding: 0;}
    #result-area li {list-style: none; width: 100%; background-color: #ffc107; height: 30px; line-height: 30px; margin-bottom: 10px;}
    #result-area a {text-decoration: none; display: block; color: #333; font-weight: 600;  height: 100%;}

  </style>
  <div id="result-area">
    <div class="result-img"></div>
    <div><a href="/front.html">처음 페이지 돌아가기</a></div>
    <div class="clip">링크복사</div>
    <div class="download"><a href="javascript:void(0)" download>download</a></div>
  </div>


  <script src="/data.js"></script>
  <script>


    var decodeParams = atob(location.search.replace(/\?/i,""))
    const urlParams = new URLSearchParams(decodeParams);
    for (const [key, value] of urlParams.entries()) {
        //console.log(key,value)

        if(key === "type"){
          var html = ""
          var imgBox  = document.querySelector('.result-img')
          var downBtn = document.querySelector('.download > a')
          var imgUrl = QUESTION_TYPE_IMAGE[value.toUpperCase()];
          
          downBtn.setAttribute('href',imgUrl)
          html += `<a><img src="${imgUrl}"/><a/>`

          imgBox.insertAdjacentHTML("beforeend",html)
        } else {

          
          const findID = QUESTION_DATA.find(data =>data.section_id === key);
          if (findID) {
            console.log(key,value)
          }
        }
      }


//링크복사
const clip = async() => {
    console.log("copy")
    await navigator.clipboard.writeText(location.href)
}
document.querySelector('.clip').addEventListener('click',clip)
    









//사용하지 않는것 

function decodeUnicode(str) {
  // Going backwards: from bytestream, to percent-encoding, to original string.
  return decodeURIComponent(atob(str).split('').map(function (c) {
    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
  }).join(''));
}
/*
async function copy(){
      var url = location.href;

      try{
        await navigator.clipboard.writeText(location.href)
        // 클립보드에 write이 성공했을 때
        success();
      }catch{
        
        // 클립보드에 write이 실패했을 때
        fail();
  } 
  
}
*/


      //console.log()
      
      //.then((res) => {console.log(res)})
  </script>
</body>
</html>